function changeNode(e){if(null!=e){var t=e.split("/");showNodeDescription(t[0],t[1],!0)}else s.camera.goTo({x:0,y:0,ratio:1.8}),s.refresh(),closeNodeDetails()}function togglePanel(e){var t=jQuery("h1").length?jQuery("h1").text():"Generic",r=jQuery("#"+e);jQuery(".panel.current-tab").length>0&&r.attr("id")!=jQuery(".panel.active-tab").attr("id")&&(jQuery(".panel.active-tab").find(".panel-collapse").slideUp(),jQuery(".panel.active-tab").removeClass("active-tab")),r.hasClass("active-tab")?(r.removeClass("active-tab"),r.find(".panel-collapse").slideUp()):(r.addClass("active-tab"),r.find(".panel-collapse").slideDown(),nmTrackEvent(t,r.find("h4").text()))}function startTour(){isMobile.any()||(nmTrackEvent("Explore","Show Tour Modal"),jQuery("#tour_intro").modal("show"))}function startTourSteps(){nmTrackEvent("Explore","Start Tour"),jQuery(".active-step, .step-done").removeClass("active-step").removeClass("step-done"),jQuery("#step-1").addClass("active-step"),jQuery(".tour-wrapper").addClass("show-tour"),current_tour_step=1,nmTrackEvent("Explore","Tour Step "+current_tour_step)}function endTour(){nmTrackEvent("Explore","End Tour"),jQuery.cookie("tour-finished","true",{path:"/"}),jQuery(".tour-wrapper").removeClass("show-tour")}function tourNextStep(){current_tour_step+1<=max_tour_steps?(current_tour_step++,jQuery("#step-"+(current_tour_step-1)).removeClass("active-step").addClass("step-done"),jQuery("#step-"+current_tour_step).addClass("active-step"),nmTrackEvent("Explore","Tour Step "+current_tour_step)):endTour()}function tourPrevStep(){current_tour_step-1>=1&&(current_tour_step--,jQuery("#step-"+(current_tour_step+1)).removeClass("active-step"),jQuery("#step-"+current_tour_step).addClass("active-step").removeClass("step-done"),nmTrackEvent("Explore","Tour Step "+current_tour_step))}function updateZoomControl(e){jQuery("#zoom-control").slider("value",Math.floor((e-20)/380*100))}function updateZoomControlByViewport(){"undefined"!=typeof s&&null!=s&&updateZoomControl(100*s.camera.ratio)}function nmTrackEvent(e,t,r){if("undefined"!=typeof __gaTracker&&__gaTracker("send","event",e,t,r),"undefined"!=typeof woopra){var n={section:e,action:t};"undefined"!=typeof r&&(n.data=r),woopra.track("event",n)}}function nmGetSearchTrackingObject(){return window.nmSearchObj||(window.nmSearchObj={search:null,filter:null}),window.nmSearchObj}function nmTrackSearchSend(){"undefined"!=typeof __gaTracker&&__gaTracker("send","event","Explore","Search",JSON.stringify(nmGetSearchTrackingObject()));var e=nmGetSearchTrackingObject();"undefined"!=typeof woopra&&woopra.track("search",{search:JSON.stringify(e.search),filter:JSON.stringify(e.filter)})}function nmTrackSearch(e){var t=nmGetSearchTrackingObject();t.search=e,nmTrackSearchSend()}function nmTrackFilter(e){var t=nmGetSearchTrackingObject();t.filter=e,nmTrackSearchSend()}jQuery(function(){$allClass=jQuery(".insnavouter-section").attr("class"),jQuery.fn.onePageNav&&(jQuery(".insnavouter-section ul").onePageNav({currentClass:"menu-active-item",scrollThreshold:.2,scrollOffset:0,begin:function(){},end:function(){$activeClass2=jQuery(".menu-active-item a").attr("href"),$activeClass2=$activeClass2.replace("#",""),jQuery(".insnavouter-section .full-image.active-background").removeClass("active-background"),jQuery(".insnavouter-section .full-image."+$activeClass2).addClass("active-background")},scrollChange:function(e){$activeClass=jQuery(".menu-active-item a").attr("href"),$activeClass=$activeClass.replace("#",""),jQuery(".insnavouter-section .full-image.active-background").removeClass("active-background"),jQuery(".insnavouter-section .full-image."+$activeClass).addClass("active-background")}}),jQuery(".left-sidebar-content ul").onePageNav({currentClass:"active",scrollThreshold:.2,scrollOffset:80})),jQuery("#menu-primary > li.menu-item-has-children").each(function(e,t){var r=jQuery(t).find("a").attr("href"),n=window.location.href.split("#")[0];n==r&&jQuery(t).find(".sub-menu li a").each(function(e,t){if(jQuery(t).attr("href").indexOf(r)!=-1){jQuery(t).attr("href").split(r);jQuery(t).click(function(e){var t=jQuery(this).attr("href").split("#")[1];e.preventDefault(),jQuery("html, body").animate({scrollTop:jQuery("#"+t).offset().top},500)})}})}),jQuery(document).scroll(function(e){var t=jQuery(window).scrollTop();if(jQuery(".middle-content-blk h1").length){var r=-90;jQuery("#wpadminbar").length&&(r-=jQuery("#wpadminbar").height()),t>jQuery(".middle-content-blk h1").offset().top+jQuery(".middle-content-blk h1").height()+40+r?jQuery(".left-sidebar-content").addClass("fixed"):jQuery(".left-sidebar-content").removeClass("fixed")}t>0?jQuery(".main-outercon header").addClass("fixed-nav"):jQuery(".main-outercon header").removeClass("fixed-nav"),updateZoomControlByViewport()});var e=jQuery(".flextable"),t=e.clone().insertBefore(e).addClass("fixed-column");if(t.find("th:not(:first-child),td:not(:first-child)").remove(),t.find("tr").each(function(t,r){jQuery(this).height(e.find("tr:eq("+t+")").height())}),jQuery(".mob-trigger").is(":visible")){var r=jQuery(".page-contentblock").slideUp();jQuery("body").on("click",".childpage-header",function(){return $this=jQuery(this),$target=$this.next(),$this.hasClass("active-headerblk")?($target.removeClass("active").slideUp(),jQuery(".childpage-header").removeClass("active-headerblk")):($target.hasClass("active")||(r.removeClass("active").slideUp(),$target.addClass("active").slideDown(function(){jQuery(window).resize()})),$this.parent().hasClass("active-headerblk")||(jQuery(".childpage-header").removeClass("active-headerblk"),$this.addClass("active-headerblk"))),!1})}if(jQuery(function(){function e(){var e=jQuery(this),t=e.find(".modal-dialog");e.css("display","block"),t.css("margin-top",Math.max(0,(jQuery(window).height()-t.height())/2))}jQuery(".modal").on("show.bs.modal",e),jQuery(window).on("resize",function(){jQuery(".modal:visible").each(e)})}),jQuery("#signup_form form").validate({submitHandler:function(e){var t=jQuery(e).serialize()+"&action=send_mailchimp";jQuery.post(ajax_object.ajax_url,t,function(e){e?(jQuery(".response-msg").html(e.message),jQuery(".response-msg").show(),jQuery("#signup_form .title").hide(),jQuery("#signup_form p.message").hide(),jQuery("#signup_form form").hide()):alert("There where some problem to send the data, try again later.")},"json")}}),jQuery(window).bind("debouncedresize",function(){if(jQuery(window).width()>767?jQuery(".header-container").addClass("header-mobile"):jQuery(".header-container").removeClass("header-mobile"),jQuery.fn.masonry&&jQuery(".partners-list").length){var e=document.querySelector(".partners-list");new Masonry(e,{gutter:46,transitionDuration:"0.8s",itemSelector:".partners-list ul li"})}}),jQuery(window).width()>767?jQuery(".header-container").addClass("header-mobile"):jQuery(".header-container").removeClass("header-mobile"),jQuery(".mobile-nav").click(function(){jQuery(this).parent().toggleClass("open"),jQuery(this).parent().children(".header-right").slideToggle("slow")}),jQuery(".nav-close").click(function(){jQuery(this).parent().removeClass("open"),jQuery(this).parent().children(".header-right").slideUp("slow")}),jQuery.fn.masonry&&jQuery(".partners-list").length){var n=document.querySelector(".partners-list");new Masonry(n,{gutter:46,transitionDuration:"0.8s",itemSelector:".partners-list ul li"})}equalheight=function(e){var t,r=0,n=0,a=new Array;jQuery(e).each(function(){if(t=jQuery(this),jQuery(t).height("auto"),topPostion=t.position().top,n!=topPostion){for(currentDiv=0;currentDiv<a.length;currentDiv++)a[currentDiv].height(r);a.length=0,n=topPostion,r=t.height(),a.push(t)}else a.push(t),r=r<t.height()?t.height():r;for(currentDiv=0;currentDiv<a.length;currentDiv++)a[currentDiv].height(r)})},jQuery(window).load(function(){equalheight(".equalhegit-outer .equal-article"),"undefined"!=typeof renderGraphs&&renderGraphs(),jQuery(window).resize(),jQuery("#zoom-control").slider({orientation:"vertical",range:"min",min:0,max:100,value:58,slide:function(e,t){var r=Math.floor(20+3.8*Number(100-t.value));jQuery(".zoom-control > span").text("Zoom "+r+"%"),showGraphZoom(.02+3.98*t.value/100)}}),jQuery(document).scroll(),setTimeout(function(){jQuery(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(e){jQuery(window).resize()})},1e3)}),jQuery(window).resize(function(){equalheight(".equalhegit-outer .equal-article"),"undefined"!=typeof renderGraphs&&renderGraphs()}),jQuery(".sidebar-block").each(function(e,t){jQuery(this).find(".collapse-block").click(function(e){e.preventDefault(),jQuery(".sidebar-block.collapsed").length&&(jQuery(".sidebar-block.collapsed").find(".filters-content").slideUp(),jQuery(".sidebar-block.collapsed").removeClass("collapsed")),jQuery(this).closest(".sidebar-block").hasClass("collapsed")?(jQuery(this).closest(".sidebar-block").removeClass("collapsed"),jQuery(this).siblings(".filters-content").slideUp()):(jQuery(this).closest(".sidebar-block").addClass("collapsed"),jQuery(this).siblings(".filters-content").slideDown())})}),jQuery(".panel-heading .trigger").click(function(e){var t=jQuery(this).closest(".panel");togglePanel(t.attr("id"))}),jQuery(window).load(function(){jQuery(document).on("click",".graph-area .graph-header .header-controls button",function(e){jQuery(".graph-area .graph-header .header-controls").fadeOut(),jQuery(".table-view").fadeIn(),closeNodeDetails(),nmTrackEvent("Explore","List View")}),jQuery(document).on("click",".table-view .header-controls button",function(e){hideTableView()}),jQuery("#search-module").submit(function(e){e.preventDefault()}),jQuery(".tooltip").tooltipster({maxWidth:500,delay:0,animationDuration:0}),jQuery(".tour-wrapper").length>0&&"true"==jQuery.cookie("disclosure-modal")&&"true"!=jQuery.cookie("tour-displayed")&&(jQuery.cookie("tour-displayed","true",{path:"/",expires:7}),startTour())}),jQuery(document).on("click",".close-module",function(e){closeNodeDetails(),e.preventDefault()}),jQuery(".glossary-search-form").submit(function(e){e.preventDefault()}),jQuery.expr[":"].contains=jQuery.expr.createPseudo(function(e){return function(t){return jQuery(t).text().toUpperCase().indexOf(e.toUpperCase())>=0}}),jQuery(".glossary-search").on("input, change, keydown, keyup",function(e){var t=jQuery(this),r=t.val().trim();r&&r.length>0?(jQuery(".accordian-content .panel").hide(),jQuery('.accordian-content .panel:contains("'+r+'")').show()):jQuery(".accordian-content .panel").show()}),jQuery(".tour-step .end").click(function(e){endTour()}),jQuery(".tour-step .next").click(function(e){tourNextStep()}),jQuery(".tour-step .prev").click(function(e){tourPrevStep()}),jQuery(".typed").typed({strings:["Some Company","Investor Name","Another Company","Interesting","Some Keywords"],typeSpeed:20,backSpeed:20,loop:!0}),jQuery(".dismiss-disclosure-btn").click(function(e){jQuery.cookie("disclosure-modal","true",{path:"/"})}),jQuery(".pie-selector a").click(function(e){var t=jQuery(this).data("index");"undefined"!=typeof pie_charts&&(pie_charts.charts["number-io-companies"].setSelection([{row:t}]),pie_charts.charts["number-io-investors"].setSelection([{row:t}])),e.preventDefault()}),jQuery(window).bind("popstate",function(e){changeNode(e.originalEvent.state)}),"undefined"!=typeof node_type&&"undefined"!=typeof node_id&&showNodeDescription(node_type,node_id,!0,!1)});var current_tour_step=1,max_tour_steps=5;jQuery(document).ready(function(){jQuery("header a").on("click touchend",function(e){if("_blank"!=jQuery(this).attr("target")){var t=jQuery(this),r=t.attr("href");window.location=r}}),jQuery(".general-content ul li").matchHeight({byRow:!0,property:"height",target:null,remove:!1}),jQuery(document).scroll(),jQuery("a.open-modal, .open-modal a").click(function(e){jQuery(this).attr("href").indexOf("#")!=-1&&jQuery(jQuery(this).attr("href")).modal("show")}),jQuery.ajax({url:ajax_object.ajax_url+"?action=get_api_timestamp",dataType:"json"}).done(function(e){var t=new Date(e.timestamp);jQuery(".api-timestamp").text("Data updated "+(t.getMonth()+1)+"/"+t.getDate()+"/"+t.getFullYear())})});var EasingFunctions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},isMobile={Android:function(){return!!navigator.userAgent.match(/Android/i)},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};